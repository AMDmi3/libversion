SET(LIBVERSION_SOURCES
	compare.c
	signature.c
)

SET(LIBVERSION_HEADERS
	version.h
)

ADD_LIBRARY(version STATIC ${LIBVERSION_SOURCES} ${LIBVERSION_HEADERS})
SET_PROPERTY(TARGET version PROPERTY POSITION_INDEPENDENT_CODE ON)

CONFIGURE_FILE(libversion.pc.in libversion.pc @ONLY)

INSTALL(FILES ${LIBVERSION_HEADERS} DESTINATION include/libversion)
INSTALL(TARGETS version LIBRARY DESTINATION lib ARCHIVE DESTINATION lib)

INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/libversion.pc DESTINATION ${PKGCONFIGDIR})
